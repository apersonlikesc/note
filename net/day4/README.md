## day4 基础
点对点信道的数据链路层在进行通信时的主要步骤:
 1. 将结点A的数据链路层把网络层交下来的ip数据报添加到首部和尾部封装成帧**(封)**
 2. 结点A把封装好的帧发送给结点B的数据链路层**(发)**
 3. 结点B将数据链路层的帧进行差错检查,提取信息或者丢弃**(解/弃)**

**数据链路层** 有三个基本问题:
  - 封装成帧: 就是将数据添加上首部和尾部,给他定界限,加上特定标识
  - 透明传输: 对出现在数据中的特定表示进行处理(**字节填充** 的方式)
  - 差错检测:
    - 比特差错:
      - 帧检验序列**fcs**:数据会被划分为几个组,每个组要添加在数据后面一个冗余码(一个码)
      - 循环冗余检验**crc**: 一种检查错误的方式(模2运算/异或处理).其中p是实现规定好的,求解的主要是冗余码R,异或的时候看前面最高位是1或者0,则对应商就是1或0
    - 传输差错:
      - 帧的`重复`,`丢失`,`乱序`
      - 主要使用`帧编号`,`确认`,`重传机制`方法解决

通过检验生成R(码),传到接受端,再经过检验后的余数一定是0,如果不是0且无法纠错,就丢弃

帧检验序列和循环冗余检验都是由**硬件完成**的,很**迅速**

如果在数据链路层进行差错检验,就必须要将数据**划分成帧**,在**每一帧加上冗余码**,一个一个传送,由接收方检验,这**只能**做到无差错接受,还有一种错误是帧的重复丢失,乱序(**解决方法:帧编号,确认,重传机制**),对于**良好的有线通信链路**,数据链路层协议不使用确认和重传,如果出现错误,就有上层协议改正错误,**差的链路** 需要使用确认和重传

**ppp协议**:收到一个帧,crc检验.正确就收下,错误就丢弃(可靠传输有传输层的tcp协议负责,在tcp/ip协议中)
  - 必须规定帧定界符
  - 必须保证数据传输透明性,有字节填充的方式
  - 必须能够在同一条物理链路上同时支持多种网络层协议必须支持多重链路
  - 必须把接受的错误帧马上丢弃
  - 每隔一段时间就检测链路的工作状态
  - 规定了**mtu**(可以承载数据的部分,不是总长度)的长度
  - 双方协商规定一种方法来协商数据压缩算法

**ppp协议组成部分**:
   - 一个将ip数据报封装到串行链路中的方法
   - 一个用来建立,配置,测试数据链路连接的链路控制协议**(应对多种链路)**
   - 一套对不同网络层的网络控制协议**(应对多重网络环境)**

**ppp帧结构**: 特殊开始标志(`F`)+`A`+`C`(这两个没什么吊用)+所用`协议`+`数据`+`fcs`(冗余码)+特殊结束标志(`F`)

**ppp协议的工作状态(方式)**:
    调制解调器呼叫路由器,**建立链路层的lcp连接**, 确定最大帧长,确立认证的方式,建立之后进入**鉴别状态**,鉴别失败则**链路中止**,鉴别成功则**商定链路进行的网络层协议**,ppp支持两端有不同的网络协议.链路上传送的是ppp帧哦,如果链路媒体质量差的话还可以进行数据压缩,之后链路就打开了,可以相互发送分组,**发送请求**与**接受回答** 来确认链路的状态

**局域网**:
  网络由一个单位所拥有,且地理范围和站点数目有限
